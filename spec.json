{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"AOS接口参考","description":"以下为建议的AOS接口形式，afp会使用jwt。头部字段，alg:rs256,kid:afp。载荷：aud固定aos，exp过期时间，nbf生效时间，bodyMd5,请求体md5值,如果请求体为空该字段填空值"},{"name":"AFP接口示例","description":"规范参考：https://jwt.io. 必要头部字段，alg:rs256,kid:aos。必要载荷，aud固定afp，exp过期时间，nbf生效时间，bodyMd5，请求体md5值，如果请求体为空该字段填空值"}],"paths":{"/user/v1/base/info":{"post":{"tags":["AFP接口示例"],"summary":"用户信息","description":"AFP提供本端的用户注册信息供AOS查询","operationId":"baseInfo","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserIdInfo"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultUserInfo"}}}}},"security":[{"bearer-key":[]}]}},"/user/v1/register/done":{"post":{"tags":["AFP接口示例"],"summary":"用户在AFP是否注册","operationId":"userRegister","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserIdInfo"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultBoolean"}}}}},"security":[{"bearer-key":[]}]}},"/user/v1/kyc/submit":{"post":{"tags":["AFP接口示例"],"summary":"用户KYC提交通知","operationId":"kycSubmit","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserIdInfo"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultObject"}}}}},"security":[{"bearer-key":[]}]}},"/user/v1/kyc/result":{"post":{"tags":["AFP接口示例"],"summary":"用户KYC完成-结果通知","description":"用户完成KYC流程时，将信息通知AFP。通知内容同AFP向AOS查询的响应结果。","operationId":"kycFinish","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/KycDetailInfo"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultObject"}}}}},"security":[{"bearer-key":[]}]}},"/aos/kyc/info":{"post":{"tags":["AOS接口参考"],"summary":"查询用户KYC信息","description":"返回结果不依赖审核通过","operationId":"kycInfo","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserIdInfo"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultKycBaseInfo"}}}}},"security":[{"bearer-key":[]}]}},"/aos/kyc/progress":{"post":{"tags":["AOS接口参考"],"summary":"获取用户KYC进度","description":"返回明确的状态，如：已提交，失败，完成等。","operationId":"kycProgress","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserIdInfo"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultString"}}}}},"security":[{"bearer-key":[]}]}},"/aos/kyc/report":{"post":{"tags":["AOS接口参考"],"summary":"获取用户KYC报告","description":"返回 PDF/CSV 文件","operationId":"kycReport","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserIdInfo"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultObject"}}}}},"security":[{"bearer-key":[]}]}},"/key/afp/public":{"get":{"tags":["秘钥下载"],"summary":"AFP示例公钥","operationId":"aosKey","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultObject"}}}}}}},"/key/aos/private":{"get":{"tags":["秘钥下载"],"summary":"AOS示例私钥","operationId":"aosPrivateKey","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultObject"}}}}}}},"/key/aos/public":{"get":{"tags":["秘钥下载"],"summary":"AOS示例公钥","operationId":"aosPublicKey","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultObject"}}}}}}},"/key/afp/private":{"get":{"tags":["秘钥下载"],"summary":"AFP示例私钥","operationId":"afpPrivateKey","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultObject"}}}}}}}},"components":{"schemas":{"UserIdInfo":{"title":"用户标识","required":["mobile"],"type":"object","properties":{"mobile":{"title":"手机号","type":"string"}}},"ResultUserInfo":{"title":"响应结果","type":"object","properties":{"code":{"title":"响应码","type":"string","description":"成功返回000000","example":"000000"},"msg":{"title":"响应信息","type":"string","example":"success"},"data":{"$ref":"#/components/schemas/UserInfo"}}},"UserInfo":{"title":"用户信息","required":["email","gender","mobile","name"],"type":"object","properties":{"name":{"title":"姓名","type":"string"},"mobile":{"title":"电话","type":"string"},"gender":{"title":"性别","type":"string"},"email":{"title":"电子邮箱","type":"string"}}},"ResultBoolean":{"title":"响应结果","type":"object","properties":{"code":{"title":"响应码","type":"string","description":"成功返回000000","example":"000000"},"msg":{"title":"响应信息","type":"string","example":"success"},"data":{"title":"具体返回内容","type":"boolean"}}},"ResultObject":{"title":"响应结果","type":"object","properties":{"code":{"title":"响应码","type":"string","description":"成功返回000000","example":"000000"},"msg":{"title":"响应信息","type":"string","example":"success"},"data":{"title":"具体返回内容","type":"object"}}},"KycDetailInfo":{"title":"KYC结果信息","required":["address","birthday","cashActNo","countryOfResidence","email","gender","idNo","idType","kyc","marginActNo","mobile","name","nationality","professional"],"type":"object","properties":{"mobile":{"title":"手机号","type":"string"},"name":{"title":"姓名","type":"string"},"address":{"title":"地址","type":"string"},"email":{"title":"电子邮箱","type":"string"},"nationality":{"title":"国籍","type":"string"},"cashActNo":{"title":"现金账户","type":"string"},"marginActNo":{"title":"保证金账户","type":"string"},"professional":{"title":"是否专业投资人","type":"boolean"},"gender":{"title":"性别","type":"string"},"birthday":{"title":"出生日期","type":"string"},"idType":{"title":"证件类型","type":"string"},"idNo":{"title":"证件编号","type":"string"},"countryOfResidence":{"title":"居住国家","type":"string"},"kyc":{"title":"见证方式","type":"string"}}},"KycBaseInfo":{"title":"KYC基本信息","required":["address","cashActNo","email","marginActNo","mobile","name","nationality","professional"],"type":"object","properties":{"mobile":{"title":"手机号","type":"string"},"name":{"title":"姓名","type":"string"},"address":{"title":"地址","type":"string"},"email":{"title":"电子邮箱","type":"string"},"nationality":{"title":"国籍","type":"string"},"cashActNo":{"title":"现金账户","type":"string"},"marginActNo":{"title":"保证金账户","type":"string"},"professional":{"title":"是否专业投资人","type":"boolean"}}},"ResultKycBaseInfo":{"title":"响应结果","type":"object","properties":{"code":{"title":"响应码","type":"string","description":"成功返回000000","example":"000000"},"msg":{"title":"响应信息","type":"string","example":"success"},"data":{"$ref":"#/components/schemas/KycBaseInfo"}}},"ResultString":{"title":"响应结果","type":"object","properties":{"code":{"title":"响应码","type":"string","description":"成功返回000000","example":"000000"},"msg":{"title":"响应信息","type":"string","example":"success"},"data":{"title":"具体返回内容","type":"string"}}}},"securitySchemes":{"bearer-key":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}
